<section class="py-20 lg:py-32 bg-white">
    <div class="container mx-auto px-4 lg:px-8">
        <div class="text-center max-w-3xl mx-auto mb-16">
            <p class="text-primary text-sm font-semibold tracking-wider mb-4 animate-on-scroll">{{ self.section_subtitle }}</p>
            <h2 class="text-3xl lg:text-5xl font-bold text-gray-900 mb-6 animate-on-scroll">{{ self.section_title }}</h2>
            {% if self.section_description %}
            <p class="text-gray-600 text-lg animate-on-scroll">{{ self.section_description }}</p>
            {% endif %}
        </div>
        
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
            <div class="space-y-4">
                {% for service in self.services %}
                <div class="service-accordion border border-gray-100 rounded-xl overflow-hidden animate-on-scroll" style="animation-delay: {{ forloop.counter0 }}00ms;">
                    <button class="service-header w-full flex items-center gap-4 p-6 text-left hover:bg-gray-50 transition-colors" data-index="{{ forloop.counter }}">
                        <span class="flex-shrink-0 w-10 h-10 bg-primary/10 text-primary font-bold rounded-lg flex items-center justify-center">
                            {% if forloop.counter < 10 %}0{% endif %}{{ forloop.counter }}
                        </span>
                        <h3 class="flex-1 font-semibold text-gray-900">{{ service.title }}</h3>
                        <svg class="w-5 h-5 text-gray-400 transform transition-transform service-chevron" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                        </svg>
                    </button>
                    <div class="service-content hidden">
                        <div class="px-6 pb-6">
                            <p class="text-gray-600 mb-4">{{ service.description }}</p>
                            <a href="#" class="inline-flex items-center gap-2 text-primary font-medium text-sm hover:gap-3 transition-all">
                                Contact us
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
                                </svg>
                            </a>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
            
            <div class="relative hidden lg:block animate-on-scroll">
                {% for service in self.services %}
                {% if forloop.first %}
                {% load wagtailimages_tags %}
                {% image service.image fill-600x500 as service_img %}
                <div class="sticky top-32">
                    <img src="{{ service_img.url }}" alt="{{ service.title }}" class="w-full h-[500px] object-cover rounded-xl shadow-2xl" id="service-image">
                </div>
                {% endif %}
                {% endfor %}
            </div>
        </div>
    </div>
</section>
